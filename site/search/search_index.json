{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"AutoExportTool_Pro - \u4e13\u4e1a3ds Max\u52a8\u753b\u5de5\u5177","text":"<p>AutoExportTool Pro \u662f\u4e00\u6b3e\u9762\u54113ds Max\u52a8\u753b\u5e08\u7684\u4e13\u4e1a\u5de5\u5177\u96c6\uff0c\u63d0\u4f9b\u9ad8\u6548\u7684\u6279\u91cf\u5bfc\u51fa/\u5bfc\u5165\u3001\u4e00\u952e\u6362\u76ae\u3001BIP\u52a8\u4f5c\u7ba1\u7406\u7b49\u6838\u5fc3\u529f\u80fd\uff0c\u5927\u5e45\u63d0\u5347\u52a8\u753b\u5236\u4f5c\u6548\u7387\u3002</p>"},{"location":"#_1","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\ud83d\ude80 \u6279\u91cf\u5904\u7406\uff1a\u540c\u65f6\u5904\u7406\u591a\u4e2aFBX/BIP\u6587\u4ef6</li> <li>\ud83e\uddec \u4e00\u952e\u6362\u76ae\uff1a\u5feb\u901f\u5c06\u52a8\u753b\u5e94\u7528\u5230\u4e0d\u540c\u89d2\u8272\u6a21\u578b</li> <li>\ud83d\udcc2 \u667a\u80fd\u6587\u4ef6\u7ba1\u7406\uff1a\u652f\u6301\u6700\u8fd1\u6587\u4ef6\u3001\u5e38\u7528\u8def\u5f84\u548c\u81ea\u52a8\u4fdd\u5b58\u76d1\u63a7</li> <li>\u2699\ufe0f \u53ef\u5b9a\u5236UI\uff1a\u989c\u8272\u4e3b\u9898\u3001\u5e03\u5c40\u548c\u5feb\u6377\u952e\u81ea\u5b9a\u4e49</li> <li>\ud83d\udd0c \u65e0\u7f1d\u96c6\u6210\uff1a\u5de5\u5177\u680f\u83dc\u5355\u548c\u81ea\u542f\u52a8\u9009\u9879</li> </ul> <p>\u5f00\u59cb\u4f7f\u7528 \u67e5\u770b\u529f\u80fd</p>"},{"location":"#_2","title":"\u529f\u80fd\u4eae\u70b9","text":"\u529f\u80fd \u63cf\u8ff0 FBX\u6279\u91cf\u5bfc\u51fa \u652f\u6301Auto/Skin/Bake\u4e09\u79cd\u5bfc\u51fa\u6a21\u5f0f BIP\u52a8\u4f5c\u7ba1\u7406 \u6279\u91cf\u5bfc\u51fa/\u5bfc\u5165Biped\u52a8\u753b\u6570\u636e \u667a\u80fd\u6362\u76ae\u7cfb\u7edf \u81ea\u52a8\u8fc1\u79fb\u9aa8\u9abc\u52a8\u753b\u5230\u65b0\u89d2\u8272\u6a21\u578b \u6587\u4ef6\u5f52\u6863 \u6309\u7248\u672c\u81ea\u52a8\u6574\u7406Max\u573a\u666f\u6587\u4ef6 \u5b9e\u65f6\u76d1\u63a7 \u81ea\u52a8\u4fdd\u5b58\u76ee\u5f55\u53d8\u5316\u5373\u65f6\u54cd\u5e94"},{"location":"#_3","title":"\u6280\u672f\u652f\u6301","text":"<p>```mermaid graph LR   A[3ds Max 2018+] --&gt; B[AutoExportTool Pro]   B --&gt; C{FBX/BIP/XAF}   C --&gt; D[\u89d2\u8272\u52a8\u753b]   C --&gt; E[\u573a\u666f\u5bfc\u51fa]   C --&gt; F[\u8d44\u6e90\u7ba1\u7406]</p>"},{"location":"changelog/","title":"\u5f00\u53d1\u65e5\u5fd7","text":""},{"location":"changelog/#3ds-max-autoexporttool_pro","title":"3ds Max\u52a8\u753b\u5de5\u5177 / AutoExportTool_Pro","text":""},{"location":"changelog/#_1","title":"\u7cfb\u7edf\u8981\u6c42","text":"<ul> <li>Autodesk 3ds Max 2018+</li> <li>Windows 10/11 64\u4f4d\u7cfb\u7edf</li> <li>\u63a8\u83508GB+\u5185\u5b58</li> </ul>"},{"location":"changelog/#_2","title":"\u7248\u672c\u63a7\u5236","text":"<p>.. \u5f53\u524d\u7248\u672c - V1.0 / 2025.06.22</p>"},{"location":"faq/","title":"\u5728 docs/faq.md \u6dfb\u52a0","text":""},{"location":"installation/","title":"\u5b89\u88c5\u6307\u5357","text":""},{"location":"installation/#_1","title":"\u7cfb\u7edf\u8981\u6c42","text":"<ul> <li>Autodesk 3ds Max 2018+</li> <li>Windows 10/11 64\u4f4d\u7cfb\u7edf</li> <li>\u63a8\u83508GB+\u5185\u5b58</li> </ul>"},{"location":"installation/#_2","title":"\u5b89\u88c5\u6b65\u9aa4","text":""},{"location":"installation/#_3","title":"\u624b\u52a8\u5b89\u88c5","text":"<p>\u65b9\u5f0f\u4e001.\uff08\u63a8\u8350\uff01\uff09 \u76f4\u63a5\u5c06 AutoExportTool_Pro.mzp \u6587\u4ef6 \u62d6\u5165 MAX  \uff0c\u81ea\u52a8\u5b89\u88c5\u63d2\u4ef6\uff0c\u5e76\u6dfb\u52a0\u5de5\u5177\u680f\u83dc\u5355\uff08\u65b9\u4fbf\u4e0b\u6b21\u5feb\u6377\u6253\u5f00\u63d2\u4ef6\uff09 \u65b9\u5f0f\u4e8c2.  \u4e0b\u8f7d\u63d2\u4ef6\u6587\u4ef6 <code>AutoExportTool_Pro.mzp</code> ,\u7136\u540e\u5c06\u6587\u4ef6\u590d\u5236\u52303ds Max\u811a\u672c\u76ee\u5f55\uff1a C:\\Program Files\\Autodesk\\3ds Max XXXX\\scripts \u65b9\u5f0f\u4e093. \u57283ds Max\u4e2d\u8fd0\u884c\u811a\u672c\uff1a ```maxscript fileIn \"AutoExportTool_Pro.mzp\" </p>"},{"location":"advanced/customization/","title":"\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u6307\u5357","text":""},{"location":"advanced/customization/#ui","title":"UI\u4e2a\u6027\u5316","text":"<pre><code>pie\n    title \u81ea\u5b9a\u4e49\u8bbe\u7f6e\u4f7f\u7528\u9891\u7387\n    \u201c\u989c\u8272\u4e3b\u9898\u201d \uff1a 45\n    \u201c\u5feb\u6377\u952e\u8bbe\u7f6e\u201d \uff1a 25\n    \u201c\u5e03\u5c40\u8c03\u6574\u201d \uff1a 20\n    \u201c\u6027\u80fd\u4f18\u5316\u201d \uff1a 10\n</code></pre>"},{"location":"advanced/customization/#_2","title":"\u989c\u8272\u914d\u7f6e","text":"<pre><code>-- \u989c\u8272\u914d\u7f6e\u7ed3\u6784\nstruct colorConfig (\n    folderNameColor = (dotNetClass \"System.Drawing.Color\").Yellow,\n    fileNameColor = (dotNetClass \"System.Drawing.Color\").White\n)\n\n-- \u5e94\u7528\u65b0\u989c\u8272\non btnApplyColor pressed do (\n    g_ColorConfig.folderNameColor = cpFolder.color\n    g_ColorConfig.fileNameColor = cpFile.color\n    refreshFileListView()\n)\n\n-- \u6062\u590d\u9ed8\u8ba4\non btnResetColor pressed do (\n    cpFolder.color = color 245 245 125\n    cpFile.color = color 255 255 255\n    applyColorSettings()\n)\n</code></pre> <p>\u9ed8\u8ba4\u914d\u8272</p> <p>\u6df1\u8272\u914d\u8272</p>"},{"location":"advanced/customization/#_3","title":"\u5e03\u5c40\u8c03\u6574","text":""},{"location":"advanced/customization/#_4","title":"\u5217\u8868\u89c6\u56fe\u8bbe\u7f6e","text":"<pre><code>-- \u5207\u6362\u7f51\u683c\u7ebf\u663e\u793a\non chkGridLines changed state do (\n    Lv_model.GridLines = state\n    saveUIConfig()\n)\n\n-- \u5207\u6362\u5b57\u4f53\u6837\u5f0f\non chkChangeFont changed state do (\n    if state then\n        Lv_model.Font = g_alternateFont\n    else\n        Lv_model.Font = g_defaultFont\n    g_forceCustomLayout = state\n    adjustColumnWidths forceCustom:state\n)\n</code></pre>"},{"location":"advanced/customization/#_5","title":"\u54cd\u5e94\u5f0f\u5e03\u5c40","text":"<pre><code>| \u5c4f\u5e55\u5c3a\u5bf8 | \u5e03\u5c40\u6a21\u5f0f | \u5217\u5bbd\u6bd4\u4f8b |\n|----------|----------|----------|\n| &gt;1200px | \u6269\u5c55\u6a21\u5f0f | 20%-60%-20% |\n| 800-1200px | \u6807\u51c6\u6a21\u5f0f | 15%-65%-20% |\n| &lt;800px | \u7d27\u51d1\u6a21\u5f0f | 10%-70%-20% |\n</code></pre>"},{"location":"advanced/customization/#_6","title":"\u6027\u80fd\u4f18\u5316","text":"<pre><code>-- \u865a\u62df\u6eda\u52a8\uff08\u5927\u5217\u8868\u4f18\u5316\uff09\nglobal g_PerfConfig = (\n    maxRecentFiles: 10000,\n    virtualScrollThreshold: 500\n)\n\nif Lv_model.Items.Count &gt; g_PerfConfig.virtualScrollThreshold do (\n    Lv_model.VirtualMode = true\n    Lv_model.RetrieveVirtualItem += (fn sender e = (\n        if e.ItemIndex &lt; model_files_array.count then (\n            e.Item = createLvItem model_files_array[e.ItemIndex]\n        )\n    ))\n)\n\n-- \u6587\u4ef6\u76d1\u63a7\u4f18\u5316\ng_autoSaveWatcher.NotifyFilter = \n    (dotNetClass \"System.IO.NotifyFilters\").FileName OR\n    (dotNetClass \"System.IO.NotifyFilters\").LastWrite\n</code></pre>"},{"location":"advanced/customization/#_7","title":"\u9884\u8bbe\u7ba1\u7406\u7cfb\u7edf","text":"<pre><code>-- \u4fdd\u5b58\u9884\u8bbe\nfn savePreset presetName = (\n    presetPath = getDir #plugcfg + \"\\\\\" + presetName + \".ini\"\n    setINISetting presetPath \"Colors\" \"Folder\" (cpFolder.color as string)\n    setINISetting presetPath \"Colors\" \"File\" (cpFile.color as string)\n    setINISetting presetPath \"Layout\" \"GridLines\" (chkGridLines.state as string)\n)\n\n-- \u52a0\u8f7d\u9884\u8bbe\nfn loadPreset presetName = (\n    presetPath = getDir #plugcfg + \"\\\\\" + presetName + \".ini\"\n    if doesFileExist presetPath do (\n        col = execute (getINISetting presetPath \"Colors\" \"Folder\")\n        if classOf col == Color do cpFolder.color = col\n        -- ...\u5176\u4ed6\u8bbe\u7f6e\u52a0\u8f7d\n    )\n)\n</code></pre>"},{"location":"advanced/scripting/","title":"\u811a\u672c\u6269\u5c55\u5f00\u53d1","text":""},{"location":"advanced/scripting/#api","title":"API\u53c2\u8003","text":"<pre><code>classDiagram\n    class AutoExportTool {\n        +refreshFileListView()\n        +processBipExport(string path)\n        +processSkinReplacement()\n        +addCustomButton(string name, string script)\n    }\n\n    class FileManager {\n        +getFilesAndDirs(string path, string filter)\n        +pseudoNaturalSort(string a, string b)\n    }\n\n    class ConfigManager {\n        +saveUIConfig()\n        +loadUIConfig()\n        +addPreset(string name)\n    }\n\n    AutoExportTool \"1\" *-- \"1\" FileManager\n    AutoExportTool \"1\" *-- \"1\" ConfigManager\n</code></pre>"},{"location":"advanced/scripting/#_2","title":"\u6269\u5c55\u70b9\u793a\u4f8b","text":""},{"location":"advanced/scripting/#1","title":"1. \u6dfb\u52a0\u81ea\u5b9a\u4e49\u6309\u94ae","text":"<pre><code>-- \u521b\u5efa\u81ea\u5b9a\u4e49\u6309\u94ae\nfn addCustomButton btnName script = (\n    local btn = button btnName width:80 height:25\n\n    -- \u52a8\u6001\u6dfb\u52a0\u4e8b\u4ef6\u5904\u7406\n    dotNet.addEventHandler btn \"Click\" (fn sender e = (\n        try (execute script) catch (\n            format \"[\u81ea\u5b9a\u4e49\u6309\u94ae\u9519\u8bef] %: %\" btnName (getCurrentException())\n        )\n    ))\n\n    -- \u6dfb\u52a0\u5230UI\n    addToToolbarGroup btn\n)\n</code></pre>"},{"location":"advanced/scripting/#2","title":"2. \u6269\u5c55\u6587\u4ef6\u5904\u7406\u6d41\u7a0b","text":"<pre><code>-- \u6587\u4ef6\u5904\u7406\u524d\u56de\u8c03\nglobal g_preFileProcessCallbacks = #()\n\nfn registerPreProcessCallback callbackFunc = (\n    append g_preFileProcessCallbacks callbackFunc\n)\n\n-- \u5728\u6587\u4ef6\u5904\u7406\u5faa\u73af\u4e2d\u8c03\u7528\nfn processFiles files = (\n    for callback in g_preFileProcessCallbacks do callback files\n\n    for f in files do (\n        -- \u6b63\u5e38\u5904\u7406\u6d41\u7a0b...\n    )\n)\n</code></pre>"},{"location":"advanced/scripting/#3","title":"3. \u81ea\u5b9a\u4e49\u5bfc\u51fa\u683c\u5f0f","text":"<pre><code>-- \u6ce8\u518c\u81ea\u5b9a\u4e49\u5bfc\u51fa\u5668\nstruct CustomExporter (\n    name = \"GLTF Exporter\",\n    extension = \"gltf\",\n    exportFn = fn exportGLTF path = (\n        -- GLTF\u5bfc\u51fa\u5b9e\u73b0...\n    )\n)\n\nglobal g_customExporters = #()\n\nfn registerExporter exporter = (\n    append g_customExporters exporter\n    -- \u66f4\u65b0UI\u663e\u793a\n    refreshExportFormatDropdown()\n)\n\n-- \u4f7f\u7528\u793a\u4f8b\ngltfExporter = CustomExporter()\nregisterExporter gltfExporter\n</code></pre>"},{"location":"advanced/scripting/#_3","title":"\u793a\u4f8b\u811a\u672c","text":""},{"location":"advanced/scripting/#_4","title":"\u6279\u91cf\u91cd\u547d\u540d\u5de5\u5177","text":"<pre><code>fn batchRename prefix suffix = (\n    for i=0 to (Lv_model.Items.Count-1) do (\n        item = Lv_model.Items.Item[i]\n        if item.Checked do (\n            oldPath = item.Tag as String\n            newName = prefix + (getFilenameFile oldPath) + suffix + (getFilenameType oldPath)\n            newPath = (getFilenamePath oldPath) + newName\n\n            if renameFile oldPath newPath do (\n                item.SubItems.Item[1].Text = newName\n                item.Tag = newPath\n            )\n        )\n    )\n)\n</code></pre>"},{"location":"advanced/scripting/#_5","title":"\u81ea\u52a8\u5f52\u6863\u811a\u672c","text":"<pre><code>fn autoArchiveFiles = (\n    currentDate = localTime\n    archiveDir = \"Archive_\" + formattedPrint currentDate[1] format:\"04d\" + \\\n                \"_\" + formattedPrint currentDate[2] format:\"02d\" + \\\n                \"_\" + formattedPrint currentDate[4] format:\"02d\"\n\n    makeDir archiveDir\n    for i=0 to (Lv_model.Items.Count-1) do (\n        if Lv_model.Items.Item[i].Checked do (\n            filePath = Lv_model.Items.Item[i].Tag as String\n            copyFile filePath (archiveDir + \"\\\\\" + filenameFromPath filePath)\n        )\n    )\n)\n</code></pre>"},{"location":"advanced/scripting/#_6","title":"\u8c03\u8bd5\u6280\u5de7","text":"<pre><code>1. **\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f**\uff1a\n   ```maxscript\n   global g_debugMode = true\n\n   fn logDebug msg = (\n       if g_debugMode do format \"DEBUG: %\\n\" msg\n   )\n   ```\n\n2. **\u5f02\u5e38\u6355\u83b7**\uff1a\n   ```maxscript\n   try (\n       riskyOperation()\n   ) catch (\n       stack = getCallStack()\n       format \"[\u9519\u8bef] \u64cd\u4f5c\u5931\u8d25: %\\n\u8c03\u7528\u5806\u6808: %\" (getCurrentException()) stack\n   )\n   ```\n\n3. **\u6027\u80fd\u5206\u6790**\uff1a\n   ```maxscript\n   startTime = timeStamp()\n   -- \u6267\u884c\u4ee3\u7801...\n   endTime = timeStamp()\n   format \"\u64cd\u4f5c\u8017\u65f6: % \u6beb\u79d2\" (endTime - startTime)\n   ```\n\n4. **\u5185\u5b58\u76d1\u63a7**\uff1a\n   ```maxscript\n   fn printMemoryUsage = (\n       format \"\u5f53\u524d\u5185\u5b58\u4f7f\u7528: % KB\" (memUsed() / 1024)\n   )\n   ```\n</code></pre> <p>\u6700\u4f73\u5b9e\u8df5</p> 1. \u4f7f\u7528\u7248\u672c\u63a7\u5236\u7ba1\u7406\u81ea\u5b9a\u4e49\u811a\u672c 2. \u5b9a\u671f\u5907\u4efd\u914d\u7f6e\u6587\u4ef6 3. \u5728\u4fee\u6539\u524d\u521b\u5efa\u9884\u8bbe\u5feb\u7167 4. \u4f7f\u7528\u6c99\u76d2\u73af\u5883\u6d4b\u8bd5\u65b0\u811a\u672c"},{"location":"advanced/toolbar_integration/","title":"\u5de5\u5177\u680f\u96c6\u6210","text":""},{"location":"advanced/toolbar_integration/#_2","title":"\u5de5\u5177\u680f\u5e03\u5c40","text":"<p>AutoExportTool Pro \u63d0\u4f9b\u4e0e 3ds Max \u539f\u751f\u5de5\u5177\u680f\u7684\u65e0\u7f1d\u96c6\u6210\uff0c\u8ba9\u60a8\u5feb\u901f\u8bbf\u95ee\u6838\u5fc3\u529f\u80fd\uff1a</p> <pre><code>graph TB\n    A[\u4e3b\u83dc\u5355\u680f] --&gt; B[AutoExportTool]\n    B --&gt; C[\ud83e\uddf0 \u6253\u5f00\u63d2\u4ef6]\n    B --&gt; D[\ud83d\uddff \u81ea\u542f\u8bbe\u7f6e]\n    B --&gt; E[\u2753 \u5e2e\u52a9]\n    D --&gt; D1[\u2728 \u5f00\u542f\u81ea\u542f]\n    D --&gt; D2[\u274c \u5173\u95ed\u81ea\u542f]\n    E --&gt; E1[\ud83d\udcfa Bilibili]\n    E --&gt; E2[\ud83d\udc27 Qzone]\n    E --&gt; E3[\ud83d\udca3 \u5378\u8f7d\u5de5\u5177\u680f]\n</code></pre>"},{"location":"advanced/toolbar_integration/#_3","title":"\u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"advanced/toolbar_integration/#_4","title":"\u624b\u52a8\u6dfb\u52a0\u5de5\u5177\u680f","text":"<pre><code>macroScript OpenToolAction \n    category:\"AutoExportTool\" \n    buttonText:\"\ud83e\uddf0\u200bAutoExportTool\"\n(\n    fileIn \"AutoExportTool_Pro.ms\"\n    createDialog AutoExportTool_Pro\n)\n</code></pre>"},{"location":"advanced/toolbar_integration/#_5","title":"\u81ea\u52a8\u5b89\u88c5\uff08\u63a8\u8350\uff09","text":"<pre><code>fn addToolbarToMax = (\n    -- \u521b\u5efa\u83dc\u5355\u7ed3\u6784\n    mainMenu = menuMan.getMainMenuBar()\n    subMenu = menuMan.createMenu \"AutoExportTool\"\n\n    -- \u6dfb\u52a0\u83dc\u5355\u9879\n    openItem = menuMan.createActionItem \"OpenToolAction\" \"AutoExportTool\"\n    subMenu.addItem openItem -1\n\n    -- \u6dfb\u52a0\u5230\u4e3b\u83dc\u5355\u680f\n    mainItem = menuMan.createSubMenuItem \"\ud83e\uddf0\u200bAutoExportTool\" subMenu\n    mainMenu.addItem mainItem (mainMenu.numItems() + 1)\n\n    -- \u66f4\u65b0\u754c\u9762\n    menuMan.updateMenuBar()\n)\n</code></pre>"},{"location":"advanced/toolbar_integration/#_6","title":"\u5378\u8f7d\u5de5\u5177\u680f","text":"<pre><code>fn removeToolbarFromMax = (\n    mainMenu = menuMan.getMainMenuBar()\n    subMenu = menuMan.findMenu \"AutoExportTool\"\n\n    if subMenu != undefined do (\n        menuMan.unRegisterMenu subMenu\n        menuMan.updateMenuBar()\n        messageBox \"\u5de5\u5177\u680f\u5df2\u6210\u529f\u79fb\u9664\" title:\"\u6210\u529f\"\n    )\n)\n</code></pre>"},{"location":"advanced/toolbar_integration/#_7","title":"\u81ea\u542f\u52a8\u914d\u7f6e","text":""},{"location":"advanced/toolbar_integration/#_8","title":"\u542f\u7528\u81ea\u542f\u52a8","text":"<pre><code>on enableAutoStart pressed do (\n    startupScript = getDir #userStartupScripts + \"\\\\FBX_ExporTools_AutoStart.ms\"\n    scriptContent = \"try (fileIn @\\\" + g_pluginPath + \"\\\"; createDialog AutoExportTool_Pro) catch()\"\n\n    f = createFile startupScript\n    format \"%\" scriptContent to:f\n    close f\n)\n</code></pre>"},{"location":"advanced/toolbar_integration/#_9","title":"\u7981\u7528\u81ea\u542f\u52a8","text":"<pre><code>on disableAutoStart pressed do (\n    startupScript = getDir #userStartupScripts + \"\\\\FBX_ExporTools_AutoStart.ms\"\n    if doesFileExist startupScript do deleteFile startupScript\n)\n</code></pre>"},{"location":"advanced/toolbar_integration/#_10","title":"\u81ea\u5b9a\u4e49\u83dc\u5355\u9879","text":"<pre><code>| \u83dc\u5355\u9879 | \u6807\u8bc6\u7b26 | \u529f\u80fd\u63cf\u8ff0 |\n|--------|--------|----------|\n| \ud83e\uddf0\u200bAutoExportTool | OpenToolAction | \u6253\u5f00\u4e3b\u754c\u9762 |\n| \u2728 \u5f00\u542f\u81ea\u542f | AutoStartEnableAction | \u542f\u7528\u63d2\u4ef6\u81ea\u542f\u52a8 |\n| \u274c \u5173\u95ed\u81ea\u542f | AutoStartDisableAction | \u7981\u7528\u63d2\u4ef6\u81ea\u542f\u52a8 |\n| \ud83d\udcfa Bilibili | BilibiliAction | \u6253\u5f00B\u7ad9\u4e3b\u9875 |\n| \ud83d\udc27 Qzone | QQSpaceAction | \u6253\u5f00QQ\u7a7a\u95f4 |\n| \ud83d\udca3 \u5378\u8f7d\u5de5\u5177\u680f | RemoveToolbarAction | \u5b8c\u5168\u79fb\u9664\u5de5\u5177\u680f |\n</code></pre>    \u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u89c6\u9891\u6807\u7b7e"},{"location":"features/bip_management/","title":"BIP\u52a8\u4f5c\u7ba1\u7406\u7cfb\u7edf","text":""},{"location":"features/bip_management/#_1","title":"\u529f\u80fd\u6f14\u793a","text":""},{"location":"features/bip_management/#_2","title":"\u6838\u5fc3\u64cd\u4f5c","text":""},{"location":"features/bip_management/#1-bip","title":"1. \u6279\u91cf\u5bfc\u51faBIP","text":"<pre><code>fn batchExportBip files = (\n    for f in files do (\n        if loadMaxFile f quiet:true do (\n            bipRoot = getBipedRoot()\n            if isValidNode bipRoot do (\n                outPath = bipExportPath + \"\\\\\" + (getFilenameFile f) + \".bip\"\n                biped.saveBipFile bipRoot.controller outPath\n            )\n            resetMaxFile #noPrompt\n        )\n    )\n)\n</code></pre>"},{"location":"features/bip_management/#2-bip","title":"2. \u6279\u91cf\u5bfc\u5165BIP","text":"<pre><code>flowchart TD\n    A[\u5f00\u59cb] --&gt; B{\u81ea\u52a8\u521b\u5efa\u9aa8\u9abc?}\n    B --&gt;|\u662f| C[\u521b\u5efa\u65b0Biped\u7cfb\u7edf]\n    B --&gt;|\u5426| D[\u4f7f\u7528\u73b0\u6709\u9aa8\u9abc]\n    C --&gt; E[\u5bfc\u5165BIP\u6587\u4ef6]\n    D --&gt; E\n    E --&gt; F[\u6e05\u7406\u65e0\u6548\u9aa8\u9abc]\n    F --&gt; G[\u5b8c\u6210]\n</code></pre>"},{"location":"features/bip_management/#3","title":"3. \u9ad8\u7ea7\u9009\u9879","text":"<pre><code>-- \u7248\u672c\u517c\u5bb9\u5904\u7406\nglobal g_bipImportVersion = case (maxVersion())[1] of (\n    24000: #2024\n    23000: #2023\n    -- ...\n)\n\n-- \u8fdb\u5ea6\u76d1\u63a7\ng_bipProgressTimer = dotNetObject System.Windows.Forms.Timer\ndotNet.addEventHandler g_bipProgressTimer Tick (fn updateProgress = (...))\n</code></pre>"},{"location":"features/bip_management/#_3","title":"\u4f7f\u7528\u573a\u666f","text":"\u573a\u666f \u63a8\u8350\u64cd\u4f5c \u6ce8\u610f\u4e8b\u9879 \u89d2\u8272\u52a8\u753b\u8fc1\u79fb \u6279\u91cf\u5bfc\u51faBIP + \u4e00\u952e\u6362\u76ae \u786e\u4fdd\u9aa8\u9abc\u7ed3\u6784\u4e00\u81f4 \u52a8\u4f5c\u5e93\u5236\u4f5c \u6279\u91cf\u5bfc\u5165BIP \u5f00\u542f\"\u81ea\u52a8\u521b\u5efa\u9aa8\u9abc\" \u591a\u89d2\u8272\u52a8\u753b \u6279\u91cf\u5bfc\u51fa\u540e\u5206\u522b\u5bfc\u5165 \u6ce8\u610f\u89d2\u8272\u6bd4\u4f8b\u5dee\u5f02 <pre><code>#### \u81ea\u5b9a\u4e49\u8bbe\u7f6e (`docs/advanced/customization.md`)\n````markdown\n# \u81ea\u5b9a\u4e49\u8bbe\u7f6e\u6307\u5357\n\n## UI\u4e2a\u6027\u5316\n![UI\u81ea\u5b9a\u4e49](../images/ui_customization.png)\n\n```maxscript\n-- \u989c\u8272\u914d\u7f6e\u7ed3\u6784\nstruct colorConfig (\n    folderNameColor = (dotNetClass \"System.Drawing.Color\").Yellow,\n    fileNameColor = (dotNetClass \"System.Drawing.Color\").White\n)\n\n-- \u5e94\u7528\u65b0\u989c\u8272\non btnApplyColor pressed do (\n    g_ColorConfig.folderNameColor = cpFolder.color\n    g_ColorConfig.fileNameColor = cpFile.color\n    refreshFileListView()\n)\n</code></pre>"},{"location":"features/bip_management/#_4","title":"\u5feb\u6377\u952e\u8bbe\u7f6e","text":"<pre><code>| \u529f\u80fd | \u9ed8\u8ba4\u5feb\u6377\u952e | \u81ea\u5b9a\u4e49\u65b9\u6cd5 |\n|------|------------|------------|\n| \u5237\u65b0\u5217\u8868 | F5 | `Lv_model.KeyDown` \u4e8b\u4ef6\u5904\u7406 |\n| \u91cd\u547d\u540d | F2 | \u7f16\u8f91`initKeyboardEvents`\u51fd\u6570 |\n| \u6279\u91cf\u5bfc\u51fa | Ctrl+E | \u4fee\u6539`rollout`\u4e8b\u4ef6\u7ed1\u5b9a |\n</code></pre>"},{"location":"features/bip_management/#_5","title":"\u6027\u80fd\u4f18\u5316","text":"<pre><code>-- \u865a\u62df\u6eda\u52a8\uff08\u5927\u5217\u8868\u4f18\u5316\uff09\nif Lv_model.Items.Count &gt; g_PerfConfig.virtualScrollThreshold do (\n    Lv_model.VirtualMode = true\n    Lv_model.RetrieveVirtualItem += (fn ...)\n)\n\n-- \u6587\u4ef6\u76d1\u63a7\u4f18\u5316\ng_autoSaveWatcher.NotifyFilter = (dotNetClass \"System.IO.NotifyFilters\").FileName\ng_autoSaveWatcher.Filter = \"*.max\"\n</code></pre>"},{"location":"features/bip_management/#_6","title":"\u4e3b\u9898\u5207\u6362","text":"<pre><code>&lt;div style=\"display:flex\"&gt;\n  &lt;img src=\"../images/theme_light.png\" width=\"45%\" alt=\"\u6d45\u8272\u4e3b\u9898\"&gt;\n  &lt;img src=\"../images/theme_dark.png\" width=\"45%\" alt=\"\u6df1\u8272\u4e3b\u9898\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"features/fbx_export/","title":"FBX\u5bfc\u51fa\u7cfb\u7edf","text":""},{"location":"features/fbx_export/#_1","title":"\u4e09\u79cd\u5bfc\u51fa\u6a21\u5f0f","text":""},{"location":"features/fbx_export/#1-auto","title":"1. Auto\u9ed8\u8ba4\u6a21\u5f0f","text":"<pre><code>export_mod_fn 1  -- Auto\u6a21\u5f0f\n/* \u53c2\u6570\u914d\u7f6e\uff1a\n- \u81ea\u52a8\u68c0\u6d4b\u573a\u666f\u5185\u5bb9\n- \u667a\u80fd\u4f18\u5316\u5bfc\u51fa\u8bbe\u7f6e\n- \u5e73\u8861\u6587\u4ef6\u5927\u5c0f\u548c\u8d28\u91cf\n*/\n</code></pre>"},{"location":"features/fbx_export/#2-skin","title":"2. Skin\u6a21\u578b\u6a21\u5f0f","text":"<pre><code>export_mod_fn 2  -- Skin\u6a21\u5f0f\n/* \u53c2\u6570\u914d\u7f6e\uff1a\nFbxExporterSetParam \"Skin\" true\nFbxExporterSetParam \"Animation\" false\nFbxExporterSetParam \"SmoothingGroups\" true\n*/\n</code></pre>"},{"location":"features/fbx_export/#3-bake","title":"3. Bake\u52a8\u753b\u6a21\u5f0f","text":"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u89c6\u9891\u6807\u7b7e  <pre><code>export_mod_fn 3  -- Bake\u6a21\u5f0f\n/* \u53c2\u6570\u914d\u7f6e\uff1a\nFbxExporterSetParam \"BakeAnimation\" true\nFbxExporterSetParam \"BakeResampleAnimation\" true\nFbxExporterSetParam \"FilterKeyReducer\" true\n*/\n</code></pre>"},{"location":"features/fbx_export/#_2","title":"\u6279\u91cf\u5bfc\u51fa\u6d41\u7a0b","text":"<pre><code>sequenceDiagram\n    participant \u7528\u6237\n    participant \u63d2\u4ef6\n    participant 3ds Max\n    \u7528\u6237-&gt;&gt;\u63d2\u4ef6: \u9009\u62e9\u5bfc\u51fa\u6a21\u5f0f\n    \u7528\u6237-&gt;&gt;\u63d2\u4ef6: \u8bbe\u7f6e\u8f93\u51fa\u8def\u5f84\n    \u63d2\u4ef6-&gt;&gt;3ds Max: \u51c6\u5907\u5bfc\u51fa\u914d\u7f6e\n    \u5faa\u73af \u6587\u4ef6\u5217\u8868\n        \u63d2\u4ef6-&gt;&gt;3ds Max: \u52a0\u8f7d.max\u6587\u4ef6\n        3ds Max-&gt;&gt;\u63d2\u4ef6: \u8fd4\u56de\u573a\u666f\u6570\u636e\n        \u63d2\u4ef6-&gt;&gt;3ds Max: \u5e94\u7528\u5bfc\u51fa\u8bbe\u7f6e\n        3ds Max-&gt;&gt;\u6587\u4ef6\u7cfb\u7edf: \u751f\u6210FBX\u6587\u4ef6\n    end\n    \u63d2\u4ef6-&gt;&gt;\u7528\u6237: \u663e\u793a\u5b8c\u6210\u62a5\u544a\n</code></pre>"},{"location":"features/fbx_export/#_3","title":"\u9ad8\u7ea7\u529f\u80fd","text":"<pre><code>-- \u6309\u9009\u62e9\u96c6\u5206\u76ee\u5f55\u5bfc\u51fa\nif auto_makedir_set.checked do (\n    for set in export_setsets do (\n        setDir = outputPath + \"\\\\\" + set\n        makeDir setDir\n        exportSelectedSet set setDir\n    )\n)\n\n-- \u6302\u70b9\u5f52\u96f6\u6280\u672f\nif auto_socket.checked do (\n    for obj in selection where classOf obj == Dummy do (\n        obj.pos = [0,0,0]\n        obj.rotation = quat 0 0 0 1\n    )\n)\n</code></pre>"},{"location":"features/file_management/","title":"\u6587\u4ef6\u7ba1\u7406\u7cfb\u7edf","text":""},{"location":"features/file_management/#_2","title":"\u529f\u80fd\u6982\u89c8","text":"<pre><code>graph LR\nA[\u6587\u4ef6\u5217\u8868] --&gt; B[\u5bfc\u822a\u64cd\u4f5c]\nA --&gt; C[\u6587\u4ef6\u64cd\u4f5c]\nA --&gt; D[\u667a\u80fd\u7b5b\u9009]\nB --&gt; B1[\u8fd4\u56de\u4e0a\u7ea7]\nB --&gt; B2[\u5e38\u7528\u8def\u5f84]\nC --&gt; C1[\u6dfb\u52a0\u6587\u4ef6]\nC --&gt; C2[\u5220\u9664\u6587\u4ef6]\nC --&gt; C3[\u91cd\u547d\u540d]\nD --&gt; D1[\u7c7b\u578b\u8fc7\u6ee4]\nD --&gt; D2[\u6700\u8fd1\u6587\u4ef6]\n</code></pre>"},{"location":"features/file_management/#_3","title":"\u6838\u5fc3\u64cd\u4f5c","text":""},{"location":"features/file_management/#1","title":"1. \u6dfb\u52a0\u6587\u4ef6","text":"<pre><code>-- \u624b\u52a8\u6dfb\u52a0\u5355\u4e2a\u6587\u4ef6\non btnBrowseFolder pressed do (\n    files = getOpenFileName caption:\"\" types:\"All Files|*.*\"\n    if files != undefined do addFileToLv files\n)\n\n-- \u62d6\u653e\u6dfb\u52a0\u6587\u4ef6\ndotNet.addEventHandler Lv_model \"DragDrop\" (fn sender e = (\n    files = e.Data.GetData(dotNetClass \"DataFormats.FileDrop\")\n    for f in files do addFileToLv f\n))\n</code></pre>"},{"location":"features/file_management/#2","title":"2. \u667a\u80fd\u7b5b\u9009","text":"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u89c6\u9891\u6807\u7b7e  \u6587\u4ef6\u5939\u7c7b\u578b \u81ea\u52a8\u8bc6\u522b\u89c4\u5219 \u663e\u793a\u6587\u4ef6\u7c7b\u578b Scripts \u5305\u542b\"script\" .ms, .mse Anim \u5305\u542b\"anim\" .bip, .xaf Scenes \u5305\u542b\"scene\" *.max Models \u5305\u542b\"model\" *.fbx"},{"location":"features/file_management/#3","title":"3. \u8def\u5f84\u7ba1\u7406","text":"<pre><code>-- \u6dfb\u52a0\u5e38\u7528\u8def\u5f84\nglobal g_likedFolders = #()\n\nfn addLikedFolder name path = (\n    append g_likedFolders (itemsFolder name:name dir:path)\n    saveConfig()\n)\n</code></pre>"},{"location":"features/file_management/#4","title":"4. \u6700\u8fd1\u6587\u4ef6","text":"<pre><code>-- \u52a0\u8f7d\u6700\u8fd1\u6587\u4ef6\nfn loadRecentFiles = (\n    xmlPath = getDir #maxData + \"\\\\RecentDocuments.xml\"\n    if doesFileExist xmlPath do (\n        -- \u89e3\u6790XML\u4ee3\u7801...\n    )\n)\n</code></pre>"},{"location":"features/skin_replacement/","title":"\u4e00\u952e\u6362\u76ae","text":""},{"location":"features/skin_replacement/#docsfeaturesskin_replacementmd","title":"docs/features/skin_replacement.md \u4e00\u952e\u6362\u76ae\u529f\u80fd\u6587\u6863","text":"<p>```markdown</p>"},{"location":"features/skin_replacement/#_1","title":"\u4e00\u952e\u6362\u76ae\u529f\u80fd","text":""},{"location":"features/skin_replacement/#_2","title":"\u529f\u80fd\u6982\u8ff0","text":"<p>\u4e00\u952e\u6362\u76ae\u7cfb\u7edf\u5141\u8bb8\u60a8\u5c06\u73b0\u6709\u89d2\u8272\u52a8\u753b\u5feb\u901f\u5e94\u7528\u5230\u65b0\u7684\u89d2\u8272\u6a21\u578b\u4e0a\uff0c\u81ea\u52a8\u5904\u7406\u9aa8\u9abc\u5339\u914d\u548c\u52a8\u753b\u8fc1\u79fb\u3002</p> <p>```mermaid sequenceDiagram     participant \u7528\u6237     participant \u63d2\u4ef6     participant 3ds Max     \u7528\u6237-&gt;&gt;\u63d2\u4ef6: \u9009\u62e9\u76ee\u6807\u89d2\u8272     \u63d2\u4ef6-&gt;&gt;3ds Max: \u52a0\u8f7d\u76ae\u80a4\u6a21\u677f     3ds Max--&gt;&gt;\u63d2\u4ef6: \u8fd4\u56de\u9aa8\u9abc\u6570\u636e     \u63d2\u4ef6-&gt;&gt;\u63d2\u4ef6: \u5339\u914d\u9aa8\u9abc\u7ed3\u6784     \u63d2\u4ef6-&gt;&gt;3ds Max: \u5e94\u7528\u52a8\u753b\u6570\u636e     3ds Max--&gt;&gt;\u7528\u6237: \u5b8c\u6210\u6362\u76ae\u64cd\u4f5c     \u4f7f\u7528\u6d41\u7a0b 1.\u51c6\u5907\u57fa\u7840\u89d2\u8272\uff1a</p> <p>\u6253\u5f00\u5305\u542b\u76ee\u6807\u52a8\u753b\u7684\u89d2\u8272\u6587\u4ef6\uff08Skin\u6a21\u677f\u6587\u4ef6\uff09\uff0c\u786e\u4fdd\u9aa8\u9abc\u7cfb\u7edf\u5b8c\u6574</p> <p>2.\u9009\u62e9\u6362\u76ae\u6587\u4ef6\uff1aLV\u5217\u8868\u5f53\u524d\u663e\u793a\u7684Max\u6587\u4ef6</p> <p>3.\u542f\u52a8\u6362\u76ae\uff1a</p> <p>\u70b9\u51fb\ud83e\udd8aRestyle\u6309\u94ae</p> <p>\u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\uff08\u9ed8\u8ba4\uff1aSkinReplace_Output\uff09</p> <p>\u7b49\u5f85\u5904\u7406\u5b8c\u6210\uff1a</p> <p>\u8fdb\u5ea6\u6761\u663e\u793a\u5f53\u524d\u72b6\u6001</p> <p>\u5904\u7406\u5b8c\u6210\u540e\u81ea\u52a8\u6253\u5f00\u8f93\u51fa\u76ee\u5f55</p> <p>\u9ad8\u7ea7\u9009\u9879 \u9009\u9879  \u63cf\u8ff0  \u9ed8\u8ba4\u503c \u9644\u4ef6\u9aa8\u9abc\u5bfc\u51fa  \u5bfc\u51fa\u9644\u52a0\u9aa8\u9abc\u6570\u636e    \u542f\u7528 \u52a8\u753b\u91cd\u5b9a\u5411   \u81ea\u52a8\u9002\u914d\u4e0d\u540c\u6bd4\u4f8b\u9aa8\u9abc  \u7981\u7528 \u9519\u8bef\u62a5\u544a    \u751f\u6210\u8be6\u7ec6\u9519\u8bef\u65e5\u5fd7    \u542f\u7528 \u8f93\u51fa\u76ee\u5f55    \u81ea\u5b9a\u4e49\u7ed3\u679c\u4fdd\u5b58\u8def\u5f84   SkinReplace_Output \u6280\u672f\u8bf4\u660e \u6362\u76ae\u8fc7\u7a0b\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a</p> <p>1.\u9aa8\u9abc\u63d0\u53d6\uff1a</p> <p>maxscript fn extractSkeleton = (     boneNodes = for obj in objects where isAttachmentBone obj collect obj     return boneNodes ) 2.\u52a8\u753b\u8fc1\u79fb\uff1a</p> <p>\u4f7f\u7528biped.loadBipFile\u8fc1\u79fbBIP\u52a8\u4f5c</p> <p>\u901a\u8fc7LoadSaveAnimation.loadAnimation\u8fc1\u79fbXAF\u9644\u4ef6</p> <p>3.\u7ed3\u679c\u4f18\u5316\uff1a</p> <p>\u81ea\u52a8\u6e05\u7406\u65e0\u6548\u9aa8\u9abc\u8282\u70b9</p> <p>\u751f\u6210\u8f6c\u6362\u62a5\u544a</p>"}]}